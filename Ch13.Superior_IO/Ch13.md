# Ch13 高级IO

本章讨论IO的高级用法。

## 13.1 非阻塞IO

1. 阻塞式IO 和 非阻塞式IO
   1. 阻塞式IO：当IO缓冲区为空或其他情况，不能正常读或写时，产生阻塞，交出CPU控制权，等待有数据时再开始读或写。
   2. 非阻塞式IO：当IO缓冲区为空或其他情况，不能正常读或写时，立即返回错误码。
2. 例子：
   1. 普通文件：非阻塞式IO。
   2. 管道文件、设备文件：可以阻塞式IO，也可以非阻塞式IO。

### 13.1.1 阻塞IO与非阻塞IO读文件

1. 本小节作用：演示【阻塞】与【非阻塞】IO读取文件的区别。
2. 说明：在调用 open()函数打开文件时，为参数 flags 指定 O_NONBLOCK 标志，open()调用成功后，后续的 I/O 操作将以非阻塞式方式进行；这就是非阻塞 I/O 的打开方式，如果未指定 O_NONBLOCK 标志，则默认使用阻塞式 I/O 进行操作。

## 13.2 IO多路复用

## 13.3 异步IO

## 13.4 优化异步IO

## 13.5 存储映射IO

## 13.6 文件锁

## 13.7 小结