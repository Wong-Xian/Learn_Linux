# 二十四章 RGBLCD 驱动实验

提到了 eLCDIF 接口的概念

## LCD 介绍

1. 分辨率的概念
   - 1080P：一个屏幕上的像素数量是1920×1080个。同分辨率情况下，屏幕越小，精细度越高。
2. 像素格式的概念
   - RGB888：三种颜色通道分别用8位数据来表示，共24位数据。
   - ARGB888：在上一中格式的基础上，增加 Alpha 透明度通道。<b>本章实验采用的格式</b>
   - RGB565：红色R用5位表示，绿色G用6位表示，蓝色B用5位表示，共16位数据。
3. LCD 屏幕接口
   - 此开发板支持 RGBLCD 这种接口，其格式是：RGB各8条数据线，1条DE(Data Enable)，1条VSYNC(垂直同步信号线)，1条HSYNC(水平同步信号线)，1条PCLK(像素时钟信号线)，共28条信号线。
   - 两种驱动模式：
     - DE模式：（需要用到DE线，可以不需要HSYNC线）
     - HV模式：（不需要DE线）
   - FPC座是什么？[FPC底座图片](https://china-bs-imgs.coovee.com/2004/12-04/15_03_26_25_0211355546631625446.jpg)
4. LCD 时间参数
   - 讨论显示屏四边的黑边形成的原因，是行扫描和帧扫描之前的时间间隔造成的。
   - 在 LCD 屏幕中继续存在 HBP、HFP、VPB 和 VFP 这四个参数的主要目的是为了锁定有效的像素数据。（这句话不太理解）
5. RGBLCD 的屏幕时序
   1. 行显示时序：行同步信号 HSYNC
      1. HSPW：HSYNC 信号的宽度。
      2. HBP：HSYNC 信号后肩，经过这段时间后才开始传像素数据。
      3. HOZVAL：显示一行数据所需的时间。
      4. HFP：行同步信号前肩。
   2. 帧显示时序：帧同步信号 VSYNC
      1. VSPW: VSYNC 信号的宽度。
      2. VBP：VSYNC 信号后肩，经过这段时间后才开始传帧数据。
      3. LINE：显示一帧数据所需的时间。
      4. VFP：帧同步信号前肩。
6. 像素时钟
   - 就是 RGBLCD 的时钟信号
   - 显示一帧需要的时间 (VSPW+VBP+LINE+VFP) * (HSPW + HBP + HOZVAL + HFP)
7. 显存
   - 在讲像素格式的时候就已经说过了，如果采用 ARGB8888 格式的话一个像素需要 4 个字节的内存来存放像素数据，那么 1024*600 分辨率就需要 1024*600*4=2457600B≈2.4MB 内存。但是 RGB LCD 内部是没有内存的，所以就需要在开发板上的 DDR3 中分出一段内存作为 RGB LCD 屏幕的显存，我们如果要在屏幕上显示什么图像的话直接操作这部分显存即可。

## eLCDIF 接口

- eLCDIF 是 I.MX6U 自带的液晶屏幕接口，用于连接 RGB LCD 接口的屏幕。
- eLCDIF 支持三种接口：MPU 接口、VSYNC 接口和 DOTCLK 接口
  - MPU 接口：MPU 接口用于在 I.MX6U 和 LCD 屏幕直接传输数据和命令，这个接口用于 6080/8080 接口的 LCD 屏幕。
  - VSYNC 接口：VSYNC 接口时序和 MPU 接口时序基本一样，只是多了 VSYNC 信号来作为帧同步。
  - DOTCLK 接口：DOTCLK 接口就是用来连接 RGB LCD 接口屏幕的， 它包括 VSYNC、HSYNC、DOTCLK 和 ENABLE(可选的)这四个信号。

## 配置步骤
1. 初始化 LCD 用到的 IO
2. 设置 LCD 像素时钟
3. 配置 eLCDIF 相关寄存器
4. 编写 API 函数
   
